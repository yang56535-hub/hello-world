# hello-world
æ­¤å­˜å‚¨åº“ç”¨ä¸ç»ƒä¹ GitHubæµ

é’ˆå¯¹ä½ é‡åˆ°çš„ `git@gitlab.com: Permission denied (publickey)` é”™è¯¯ï¼Œä»¥ä¸‹æ˜¯ç³»ç»ŸåŒ–çš„æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆã€‚ç»“åˆä½ çš„ Windows ç¯å¢ƒï¼ˆGit Bash/MINGW64ï¼‰ï¼ŒæŒ‰ä¼˜å…ˆçº§ä»é«˜åˆ°ä½é€æ­¥æ“ä½œï¼š

------

### ğŸ”‘ **1. éªŒè¯å…¬é’¥æ˜¯å¦æ­£ç¡®æ·»åŠ åˆ° GitLab**

- **æ£€æŸ¥å…¬é’¥å†…å®¹ä¸€è‡´æ€§**
  è¿è¡Œ `cat ~/.ssh/id_rsa.pub` æˆ– `cat ~/.ssh/id_ed25519.pub`ï¼Œç¡®ä¿è¾“å‡ºçš„å…¬é’¥å†…å®¹ â€‹**â€‹å®Œæ•´æ— æ¢è¡Œç¬¦â€‹**â€‹ï¼Œä¸”ä¸ GitLab è´¦æˆ·ä¸­ `Settings â†’ SSH Keys` æ·»åŠ çš„å†…å®¹å®Œå…¨ä¸€è‡´

  âš ï¸ å¸¸è§é—®é¢˜ï¼š

  - å¤åˆ¶æ—¶é—æ¼é¦–å°¾å­—ç¬¦ï¼ˆå¦‚ `ssh-rsa AAA...` æˆ–é‚®ç®±æ³¨é‡Šï¼‰ã€‚

  - å…¬é’¥æ ¼å¼é”™è¯¯ï¼ˆå¦‚è¯¯å¤åˆ¶ç§é’¥å†…å®¹

     

    ```
    id_rsa
    ```

     

    è€Œé

     

    ```
    id_rsa.pub
    ```

    ï¼‰

    

- **ç¡®è®¤å¯†é’¥ç±»å‹æ”¯æŒ**
  GitLab ä»…æ”¯æŒ RSAï¼ˆâ‰¥2048ä½ï¼‰ã€ECDSAã€ED25519 ç­‰å¯†é’¥ç±»å‹ã€‚è‹¥ä½¿ç”¨æ—§ç‰ˆ RSA-1024 æˆ–ä¸å®‰å…¨ç®—æ³•ï¼ˆå¦‚ DSAï¼‰ï¼Œéœ€é‡æ–°ç”Ÿæˆï¼š

  bash

  å¤åˆ¶

  ```
  ssh-keygen -t ed25519 -C "your_email@example.com"  # æ¨è
  æˆ–
  ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
  ```

  ç”Ÿæˆåé‡æ–°å¤åˆ¶å…¬é’¥åˆ° GitLab

  

  

------

### ğŸ”’ **2. å¯åŠ¨ SSH ä»£ç†å¹¶åŠ è½½ç§é’¥**

- **ç¡®ä¿ä»£ç†è¿è¡Œ & ç§é’¥å·²æ·»åŠ **
  ä¾æ¬¡æ‰§è¡Œï¼š

  bash

  å¤åˆ¶

  ```
  eval "$(ssh-agent -s)"  # å¯åŠ¨ä»£ç†ï¼ˆè¾“å‡ºåº”ä¸º "Agent pid XXXX"ï¼‰
  ssh-add ~/.ssh/id_ed25519  # åŠ è½½ç§é’¥ï¼ˆè‹¥ä½¿ç”¨ RSA åˆ™æ›¿æ¢ä¸º id_rsaï¼‰
  ```

  âœ… éªŒè¯æ˜¯å¦åŠ è½½æˆåŠŸï¼š`ssh-add -l` åº”æ˜¾ç¤ºç§é’¥æŒ‡çº¹

  

- **ä»£ç†æœªç”Ÿæ•ˆçš„è§£å†³**

  - Windows æœåŠ¡é—®é¢˜ï¼šé‡å¯ Git Bash æˆ–æ‰§è¡Œ `exec ssh-agent bash` é‡æ–°æŒ‚è½½ä»£ç†ã€‚

  - ç§é’¥è·¯å¾„é”™è¯¯ï¼šè‹¥ç§é’¥ä¸åœ¨é»˜è®¤è·¯å¾„ï¼Œéœ€ç”¨

     

    ```
    ssh-add /path/to/your_private_key
    ```

     

    æŒ‡å®š

    

------

### ğŸ“‚ **3. æ£€æŸ¥æ–‡ä»¶ä¸ç›®å½•æƒé™**

- 

  å…³é”®æƒé™è®¾ç½®

  

  bash

  å¤åˆ¶

  ```
  chmod 700 ~/.ssh      # .ssh ç›®å½•æƒé™
  chmod 600 ~/.ssh/id_* # æ‰€æœ‰ç§é’¥æ–‡ä»¶æƒé™
  ```

  âš ï¸ æƒé™ä¸å½“ï¼ˆå¦‚

   

  ```
  755
  ```

  ï¼‰ä¼šå¯¼è‡´ SSH æ‹’ç»ä½¿ç”¨ç§é’¥

  

------

### âš™ï¸ **4. é…ç½® SSH é…ç½®æ–‡ä»¶ï¼ˆå¤šå¯†é’¥å¿…å¤‡ï¼‰**

è‹¥å­˜åœ¨å¤šä¸ªå¯†é’¥ï¼ˆå¦‚åŒæ—¶ç”¨ GitHub/GitLabï¼‰ï¼Œéœ€åˆ›å»º `~/.ssh/config` æ–‡ä»¶æ˜ç¡®æŒ‡å®šï¼š

bash

å¤åˆ¶

```
Host gitlab.com
  HostName gitlab.com
  User git
  IdentityFile ~/.ssh/id_ed25519_gitlab  # æ›¿æ¢ä¸ºä½ çš„ç§é’¥è·¯å¾„
  IdentitiesOnly yes                     # å¼ºåˆ¶ä»…ç”¨æŒ‡å®šå¯†é’¥
```

ğŸ’¡ ä¿å­˜åæµ‹è¯•ï¼š`ssh -T git@gitlab.com`





------

### ğŸŒ **5. éªŒè¯è¿œç¨‹ä»“åº“åœ°å€ & ç½‘ç»œ**

- 

  ç¡®è®¤ Git è¿œç¨‹åœ°å€ä¸º SSH æ ¼å¼

  

  bash

  å¤åˆ¶

  ```
  git remote -v  # æŸ¥çœ‹åœ°å€ï¼Œåº”ä¸º git@gitlab.com:username/repo.git
  ```

  è‹¥æ˜¾ç¤º HTTPS åœ°å€ï¼ˆ

  ```
  https://gitlab.com/...
  ```

  ï¼‰ï¼Œéœ€ä¿®æ”¹ï¼š

  bash

  å¤åˆ¶

  ```
  git remote set-url origin git@gitlab.com:username/repo.git
  ```[1,4](@ref)  
  ```

- 

  æ£€æŸ¥ç½‘ç»œä¸é˜²ç«å¢™

  

  - æµ‹è¯•è¿æ¥ï¼š`ping gitlab.com` æ˜¯å¦é€šã€‚

  - ä¼ä¸šç¯å¢ƒï¼šå¯èƒ½éœ€é…ç½®ä»£ç†æˆ–æ”¾è¡Œç«¯å£

     

    ```
    22
    ```

    
